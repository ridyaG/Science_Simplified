<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Science Simplified ‚Äì NEET MCQ Practice</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&family=Nunito:wght@400;500;600;700&display=swap" rel="stylesheet" />
<style>
  :root {
    --gold: #C89B14;
    --gold-light: #E8B91A;
    --gold-dark: #A07A0A;
    --blue: #1A3E8C;
    --blue-light: #2551B5;
    --blue-dark: #0F2560;
    --bg-light: #F5F7FA;
    --bg-white: #FFFFFF;
    --bg-dark: #0F1020;
    --text-dark: #1A1A2E;
    --text-mid: #444466;
    --text-light: #FFFFFF;
    --green: #1A6B3C;
    --green-light: #2E9B5A;
    --red: #C0392B;
    --amber: #C05020;
    --amber-dark: #7A2A0A;
    --radius: 16px;
    --shadow: 0 8px 32px rgba(26,62,140,0.13);
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Nunito', sans-serif;
    background: var(--bg-light);
    min-height: 100vh;
    color: var(--text-dark);
    overflow-x: hidden;
  }

  h1, h2, h3, h4, .poppins { font-family: 'Poppins', sans-serif; }

  /* ================= SPLASH ================= */
  #splash {
    position: fixed; inset: 0; z-index: 1000;
    background: linear-gradient(160deg, var(--blue-dark) 0%, var(--blue) 100%);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    gap: 18px; overflow: hidden;
  }
  #splash.fade-out {
    animation: splashFadeOut 0.4s ease forwards;
  }
  @keyframes splashFadeOut {
    to { opacity: 0; pointer-events: none; }
  }

  .splash-atom {
    position: relative; width: 140px; height: 140px;
    display: flex; align-items: center; justify-content: center;
    opacity: 0;
    animation: atomIn 0.6s 0.1s ease forwards;
  }
  @keyframes atomIn {
    from { opacity:0; transform: scale(0.3); }
    to   { opacity:1; transform: scale(1); }
  }

  .atom-nucleus {
    width: 32px; height: 32px; border-radius: 50%;
    background: radial-gradient(circle at 35% 35%, #FFD700, var(--gold));
    box-shadow: 0 0 24px 8px rgba(200,155,20,0.7);
    position: absolute; z-index: 2;
    animation: nucGlow 1.5s 2s ease-in-out infinite alternate;
  }
  @keyframes nucGlow {
    from { box-shadow: 0 0 24px 8px rgba(200,155,20,0.7); }
    to   { box-shadow: 0 0 48px 16px rgba(200,155,20,1); }
  }

  .orbit {
    position: absolute; border-radius: 50%;
    border: 2.5px solid rgba(200,155,20,0.0);
    animation: orbitDraw 0.6s ease forwards;
  }
  .orbit-1 { width:110px; height:42px; transform: rotate(0deg);   animation-delay:0.5s; }
  .orbit-2 { width:110px; height:42px; transform: rotate(60deg);  animation-delay:0.7s; }
  .orbit-3 { width:110px; height:42px; transform: rotate(120deg); animation-delay:0.9s; }
  @keyframes orbitDraw {
    from { border-color: rgba(200,155,20,0); }
    to   { border-color: rgba(200,155,20,0.85); }
  }

  .electron {
    position: absolute; width: 8px; height: 8px; border-radius: 50%;
    background: var(--gold-light);
    box-shadow: 0 0 8px 3px var(--gold);
  }
  .orbit-1 .electron { animation: spin1 2.4s 1.1s linear infinite; }
  .orbit-2 .electron { animation: spin1 2.1s 1.3s linear infinite reverse; }
  .orbit-3 .electron { animation: spin1 1.9s 1.5s linear infinite; }
  @keyframes spin1 {
    from { transform: translate(51px, -4px) rotate(0deg) translateX(-51px); }
    to   { transform: translate(51px, -4px) rotate(360deg) translateX(-51px); }
  }

  .benzene-left, .benzene-right {
    position: absolute; opacity: 0;
  }
  .benzene-left  { left: -60px; animation: benzIn 0.5s 0.9s ease forwards; }
  .benzene-right { right: -60px; animation: benzInR 0.5s 1.1s ease forwards; }
  @keyframes benzIn  { from{opacity:0;transform:translateX(-40px)} to{opacity:0.5;transform:translateX(0)} }
  @keyframes benzInR { from{opacity:0;transform:translateX(40px)}  to{opacity:0.5;transform:translateX(0)} }

  .splash-title {
    opacity: 0; text-align: center;
    animation: textUp 0.5s 1.5s ease forwards;
    font-family: 'Poppins', sans-serif;
    font-weight: 800; font-size: 1.55rem;
    color: #fff; letter-spacing: 0.08em;
    text-shadow: 0 2px 16px rgba(200,155,20,0.3);
  }
  .splash-institute {
    font-size: 0.7rem; letter-spacing: 0.22em;
    color: var(--gold-light); font-weight: 600;
    margin-top: 2px; display:block;
  }
  @keyframes textUp {
    from { opacity:0; transform: translateY(18px); }
    to   { opacity:1; transform: translateY(0); }
  }

  .splash-tagline {
    opacity: 0;
    animation: textUp 0.5s 2.1s ease forwards;
    font-family: 'Nunito', sans-serif;
    color: rgba(255,255,255,0.7);
    font-size: 0.95rem; font-style: italic;
    letter-spacing: 0.04em;
  }
  .tagline-dot { color: var(--gold); font-style: normal; }

  /* ================= APP SHELL ================= */
  #app {
    display: none; min-height: 100vh;
    flex-direction: column;
  }
  #app.visible { display: flex; animation: appFadeIn 0.4s ease; }
  @keyframes appFadeIn { from{opacity:0} to{opacity:1} }

  /* ================= HEADER ================= */
  .header {
    background: #fff;
    border-bottom: 2px solid rgba(200,155,20,0.13);
    padding: 12px 20px;
    display: flex; align-items: center; gap: 12px;
    box-shadow: 0 2px 12px rgba(26,62,140,0.07);
    position: sticky; top: 0; z-index: 100;
  }
  .header-logo {
    display: flex; align-items: center; gap: 10px;
  }
  .logo-icon {
    width: 38px; height: 38px;
    background: linear-gradient(135deg, var(--blue-dark), var(--blue));
    border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 2px 10px rgba(26,62,140,0.25);
  }
  .logo-text {
    font-family: 'Poppins', sans-serif;
    font-weight: 700; font-size: 0.8rem;
    color: var(--blue);
    line-height: 1.2;
  }
  .logo-text span { color: var(--gold); display: block; font-size: 0.65rem; font-weight: 600; }
  .header-greeting {
    margin-left: auto;
    font-size: 0.85rem; color: var(--text-mid); font-weight: 600;
  }

  /* ================= SCREENS ================= */
  .screen { display: none; flex-direction: column; flex: 1; }
  .screen.active { display: flex; }

  /* ================= HOME SCREEN ================= */
  .home-hero {
    padding: 32px 20px 16px;
    text-align: center;
  }
  .home-hero h1 {
    font-size: clamp(1.3rem, 5vw, 1.9rem);
    color: var(--blue);
    line-height: 1.3;
    margin-bottom: 8px;
  }
  .home-hero p { color: var(--text-mid); font-size: 0.95rem; }

  .subject-grid {
    padding: 12px 16px 24px;
    display: flex; flex-direction: column; gap: 14px;
  }
  @media(min-width:560px) {
    .subject-grid { flex-direction: row; flex-wrap: wrap; justify-content: center; }
    .subject-card { flex: 1; min-width: 160px; max-width: 220px; }
  }

  .subject-card {
    border-radius: 18px;
    padding: 22px 18px;
    cursor: pointer;
    color: #fff;
    box-shadow: 0 6px 28px rgba(0,0,0,0.18);
    transition: transform 0.18s, box-shadow 0.18s;
    position: relative; overflow: hidden;
    display: flex; flex-direction: column; gap: 8px;
  }
  .subject-card:hover { transform: translateY(-4px) scale(1.02); box-shadow: 0 12px 40px rgba(0,0,0,0.22); }
  .subject-card:active { transform: scale(0.97); }
  .subject-card::before {
    content: ''; position: absolute; inset: 0;
    background: rgba(255,255,255,0.05);
    border-radius: inherit;
  }
  .card-physics   { background: linear-gradient(135deg, #1A3E8C 0%, #2551B5 100%); }
  .card-biology   { background: linear-gradient(135deg, #1A6B3C 0%, #2E9B5A 100%); }
  .card-chemistry { background: linear-gradient(135deg, #7A2A0A 0%, #C05020 100%); }

  .card-icon { font-size: 2.2rem; line-height: 1; }
  .card-name { font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.15rem; }
  .card-meta { font-size: 0.8rem; opacity: 0.85; }

  /* ================= TOPIC SCREEN ================= */
  .topic-header {
    background: linear-gradient(135deg, var(--blue-dark) 0%, var(--blue) 100%);
    padding: 14px 16px;
    display: flex; align-items: center; gap: 12px;
    color: #fff;
  }
  .topic-header-title {
    font-family: 'Poppins', sans-serif; font-weight: 700;
    font-size: 1.15rem; flex: 1;
  }
  .back-btn {
    background: rgba(255,255,255,0.15); border: none;
    color: #fff; padding: 6px 12px; border-radius: 8px;
    cursor: pointer; font-size: 1rem; display: flex; align-items: center; gap: 4px;
    font-family: 'Nunito', sans-serif; font-weight: 600;
    transition: background 0.15s;
  }
  .back-btn:hover { background: rgba(255,255,255,0.25); }

  .tab-bar {
    display: flex; background: #fff;
    border-bottom: 2px solid rgba(26,62,140,0.1);
  }
  .tab-btn {
    flex: 1; padding: 12px; border: none; background: none;
    font-family: 'Poppins', sans-serif; font-weight: 600;
    font-size: 0.95rem; color: var(--text-mid);
    cursor: pointer; border-bottom: 3px solid transparent;
    transition: all 0.18s;
  }
  .tab-btn.active {
    color: var(--blue); border-bottom-color: var(--gold);
    background: rgba(200,155,20,0.05);
  }

  .chapter-list { flex: 1; overflow-y: auto; padding: 12px 14px; display: flex; flex-direction: column; gap: 10px; }

  .chapter-card {
    background: #fff; border-radius: 14px;
    padding: 14px 16px; box-shadow: 0 2px 10px rgba(26,62,140,0.07);
    display: flex; align-items: center; gap: 12px;
    border-left: 5px solid var(--blue);
    transition: box-shadow 0.15s, transform 0.15s;
  }
  .chapter-card:hover { box-shadow: 0 5px 20px rgba(26,62,140,0.13); transform: translateX(2px); }
  .chapter-num {
    width: 36px; height: 36px; border-radius: 10px;
    background: linear-gradient(135deg, var(--blue-dark), var(--blue));
    color: #fff; font-family: 'Poppins', sans-serif; font-weight: 700;
    font-size: 0.85rem; display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
  }
  .chapter-info { flex: 1; min-width: 0; }
  .chapter-name { font-family: 'Poppins', sans-serif; font-weight: 600; font-size: 0.9rem; color: var(--text-dark); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .chapter-sub { font-size: 0.75rem; color: var(--text-mid); margin-top: 2px; }
  .progress-bar-wrap { height: 5px; background: #eee; border-radius: 99px; margin-top: 6px; }
  .progress-bar-fill { height: 100%; border-radius: 99px; background: linear-gradient(90deg, var(--gold), var(--gold-light)); transition: width 0.3s; }
  .start-btn {
    background: linear-gradient(135deg, var(--gold-dark), var(--gold));
    color: #fff; border: none; padding: 8px 16px; border-radius: 10px;
    font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 0.85rem;
    cursor: pointer; white-space: nowrap;
    box-shadow: 0 3px 12px rgba(200,155,20,0.35);
    transition: all 0.15s;
  }
  .start-btn:hover { transform: scale(1.05); box-shadow: 0 5px 18px rgba(200,155,20,0.5); }
  .start-btn:active { transform: scale(0.97); }

  /* ================= QUIZ SCREEN ================= */
  .quiz-screen { background: #0F1020; }

  .quiz-topbar {
    background: #16192E; padding: 12px 16px;
    display: flex; align-items: center; gap: 10px;
    border-bottom: 1px solid rgba(200,155,20,0.15);
  }
  .quiz-chapter-name {
    flex: 1; text-align: center;
    font-family: 'Poppins', sans-serif; font-weight: 600;
    color: #fff; font-size: 0.9rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  }
  .score-pill {
    background: linear-gradient(135deg, var(--gold-dark), var(--gold));
    color: #fff; padding: 5px 14px; border-radius: 99px;
    font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 0.9rem;
    white-space: nowrap; box-shadow: 0 2px 10px rgba(200,155,20,0.4);
    transition: transform 0.15s;
  }
  .score-pill.animate { animation: scorePop 0.35s ease; }
  .score-pill.shake { animation: scoreShake 0.4s ease; }
  @keyframes scorePop {
    0%{transform:scale(1)}40%{transform:scale(1.25)}70%{transform:scale(0.95)}100%{transform:scale(1)}
  }
  @keyframes scoreShake {
    0%,100%{transform:translateX(0)}20%{transform:translateX(-6px)}40%{transform:translateX(6px)}60%{transform:translateX(-4px)}80%{transform:translateX(4px)}
  }

  .quiz-progress-wrap { background: #16192E; padding: 8px 16px 12px; }
  .quiz-progress-bar { height: 6px; background: rgba(255,255,255,0.1); border-radius: 99px; overflow: hidden; }
  .quiz-progress-fill { height: 100%; border-radius: 99px; background: linear-gradient(90deg, var(--gold), #FFD700); transition: width 0.4s ease; }
  .quiz-counter { font-size: 0.78rem; color: rgba(255,255,255,0.5); margin-top: 5px; text-align: right; }

  .quiz-content { flex: 1; overflow-y: auto; padding: 16px; display: flex; flex-direction: column; gap: 14px; }

  .question-card {
    background: #1E2240; border-radius: 18px;
    padding: 20px 18px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.4);
    border: 1px solid rgba(200,155,20,0.12);
    animation: qCardIn 0.3s ease;
  }
  @keyframes qCardIn { from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:translateY(0)} }
  .q-num { font-size: 0.75rem; color: var(--gold); font-weight: 700; letter-spacing: 0.08em; margin-bottom: 10px; }
  .q-text { color: #fff; font-size: 1rem; line-height: 1.65; font-family: 'Nunito', sans-serif; }

  .options-list { display: flex; flex-direction: column; gap: 10px; }
  .option-btn {
    background: #1E2240; border: 2px solid rgba(255,255,255,0.1);
    border-radius: 13px; padding: 13px 16px;
    display: flex; align-items: flex-start; gap: 12px;
    cursor: pointer; text-align: left;
    transition: border-color 0.15s, background 0.15s, transform 0.1s;
    animation: optIn 0.25s ease backwards;
  }
  .option-btn:nth-child(1){animation-delay:0.05s}
  .option-btn:nth-child(2){animation-delay:0.1s}
  .option-btn:nth-child(3){animation-delay:0.15s}
  .option-btn:nth-child(4){animation-delay:0.2s}
  @keyframes optIn { from{opacity:0;transform:translateX(-10px)} to{opacity:1;transform:translateX(0)} }
  .option-btn:hover:not(:disabled) { border-color: var(--gold); background: rgba(200,155,20,0.07); transform: translateX(3px); }
  .option-btn:disabled { cursor: default; }

  .option-letter {
    width: 28px; height: 28px; border-radius: 8px;
    background: rgba(255,255,255,0.08); color: var(--gold);
    font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 0.82rem;
    display: flex; align-items: center; justify-content: center; flex-shrink: 0;
  }
  .option-text { color: rgba(255,255,255,0.9); font-size: 0.93rem; line-height: 1.5; padding-top: 4px; }

  .option-btn.correct { border-color: var(--green-light); background: rgba(46,155,90,0.15); }
  .option-btn.correct .option-letter { background: var(--green-light); color: #fff; }
  .option-btn.wrong   { border-color: var(--red); background: rgba(192,57,43,0.15); }
  .option-btn.wrong .option-letter { background: var(--red); color: #fff; }
  .option-btn.revealed { border-color: var(--green-light); background: rgba(46,155,90,0.08); opacity: 0.7; }
  .option-btn.revealed .option-letter { background: var(--green-light); color: #fff; }

  .feedback-badge {
    display: flex; align-items: center; justify-content: center;
    gap: 8px; padding: 10px; border-radius: 10px;
    font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 0.9rem;
    animation: feedIn 0.25s ease;
  }
  @keyframes feedIn { from{opacity:0;transform:scale(0.9)} to{opacity:1;transform:scale(1)} }
  .feedback-badge.correct { background: rgba(46,155,90,0.2); color: var(--green-light); }
  .feedback-badge.wrong   { background: rgba(192,57,43,0.2);  color: #ff6b6b; }

  .next-btn {
    background: linear-gradient(135deg, var(--gold-dark), var(--gold));
    color: #fff; border: none; padding: 14px; border-radius: 14px;
    font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1rem;
    cursor: pointer; box-shadow: 0 4px 20px rgba(200,155,20,0.4);
    transition: all 0.15s; animation: nextIn 0.3s ease;
    display: flex; align-items: center; justify-content: center; gap: 8px;
  }
  @keyframes nextIn { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }
  .next-btn:hover { transform: translateY(-2px); box-shadow: 0 7px 28px rgba(200,155,20,0.55); }
  .next-btn:active { transform: scale(0.98); }

  /* ================= RESULTS SCREEN ================= */
  .results-screen { background: linear-gradient(160deg, var(--blue-dark) 0%, #0F1020 100%); }
  .results-content { flex: 1; overflow-y: auto; padding: 20px 16px; display: flex; flex-direction: column; gap: 18px; align-items: center; }

  .score-reveal-ring {
    width: 160px; height: 160px; border-radius: 50%;
    border: 8px solid rgba(200,155,20,0.2);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    position: relative;
    box-shadow: 0 0 40px rgba(200,155,20,0.3);
    animation: ringIn 0.5s ease;
  }
  .score-ring-svg { position: absolute; inset: -8px; }
  @keyframes ringIn { from{opacity:0;transform:scale(0.5)} to{opacity:1;transform:scale(1)} }
  .score-big { font-family: 'Poppins', sans-serif; font-weight: 900; font-size: 2.8rem; color: var(--gold); line-height: 1; }
  .score-label-s { font-size: 0.78rem; color: rgba(255,255,255,0.6); font-weight: 600; }

  .perf-badge {
    padding: 8px 24px; border-radius: 99px;
    font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1rem;
    animation: badgeIn 0.4s 0.3s ease backwards;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  }
  @keyframes badgeIn { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }
  .perf-excellent { background: linear-gradient(135deg, #1A6B3C, #2E9B5A); color: #fff; }
  .perf-good      { background: linear-gradient(135deg, var(--gold-dark), var(--gold)); color: #fff; }
  .perf-practice  { background: linear-gradient(135deg, var(--blue-dark), var(--blue)); color: #fff; }

  .stats-grid {
    display: grid; grid-template-columns: repeat(2,1fr); gap: 12px; width: 100%;
    animation: statsIn 0.4s 0.5s ease backwards;
  }
  @keyframes statsIn { from{opacity:0;transform:translateY(16px)} to{opacity:1;transform:translateY(0)} }
  .stat-box {
    background: rgba(255,255,255,0.07); border-radius: 14px;
    padding: 14px; text-align: center; border: 1px solid rgba(255,255,255,0.08);
  }
  .stat-val { font-family: 'Poppins', sans-serif; font-weight: 800; font-size: 1.6rem; color: #fff; }
  .stat-lbl { font-size: 0.75rem; color: rgba(255,255,255,0.55); margin-top: 2px; }
  .stat-box.green .stat-val { color: var(--green-light); }
  .stat-box.red   .stat-val { color: #ff6b6b; }
  .stat-box.gold  .stat-val { color: var(--gold); }

  .neet-score-box {
    background: linear-gradient(135deg, rgba(200,155,20,0.2), rgba(200,155,20,0.08));
    border: 2px solid rgba(200,155,20,0.35);
    border-radius: 16px; padding: 16px; width: 100%;
    text-align: center; animation: statsIn 0.4s 0.7s ease backwards;
  }
  .neet-score-box .neet-label { color: rgba(255,255,255,0.7); font-size: 0.8rem; margin-bottom: 5px; }
  .neet-score-box .neet-val { font-family: 'Poppins', sans-serif; font-weight: 900; font-size: 2.2rem; color: var(--gold); }
  .neet-score-box .neet-max { font-size: 0.8rem; color: rgba(255,255,255,0.5); }

  .result-btns { display: flex; flex-direction: column; gap: 10px; width: 100%; animation: statsIn 0.4s 0.9s ease backwards; }
  .result-btn {
    padding: 14px; border-radius: 14px; border: none;
    font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 0.95rem;
    cursor: pointer; transition: all 0.15s;
  }
  .result-btn.primary { background: linear-gradient(135deg, var(--gold-dark), var(--gold)); color: #fff; box-shadow: 0 4px 20px rgba(200,155,20,0.4); }
  .result-btn.secondary { background: rgba(255,255,255,0.1); color: #fff; border: 1px solid rgba(255,255,255,0.15); }
  .result-btn:hover { transform: translateY(-2px); }
  .result-btn:active { transform: scale(0.98); }

  /* ================= REVIEW SCREEN ================= */
  .review-header {
    background: linear-gradient(135deg, var(--blue-dark) 0%, var(--blue) 100%);
    padding: 14px 16px; display: flex; align-items: center; gap: 12px; color: #fff;
  }
  .review-list { flex: 1; overflow-y: auto; padding: 12px; display: flex; flex-direction: column; gap: 14px; }
  .review-card {
    background: #fff; border-radius: 16px;
    padding: 16px; box-shadow: 0 2px 12px rgba(26,62,140,0.1);
  }
  .review-card.rc-correct { border-left: 5px solid var(--green-light); }
  .review-card.rc-wrong   { border-left: 5px solid var(--red); }
  .review-card.rc-skip    { border-left: 5px solid #aaa; }
  .rc-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; gap: 8px; }
  .rc-qnum { font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 0.8rem; color: var(--blue); }
  .rc-badge { padding: 2px 10px; border-radius: 99px; font-size: 0.72rem; font-weight: 700; }
  .rc-badge.correct { background: rgba(46,155,90,0.15); color: var(--green); }
  .rc-badge.wrong   { background: rgba(192,57,43,0.12); color: var(--red); }
  .rc-badge.skip    { background: rgba(0,0,0,0.06); color: #666; }
  .rc-question { font-size: 0.92rem; color: var(--text-dark); line-height: 1.6; margin-bottom: 12px; }
  .rc-options { display: flex; flex-direction: column; gap: 6px; margin-bottom: 10px; }
  .rc-opt {
    padding: 8px 12px; border-radius: 9px;
    font-size: 0.85rem; display: flex; align-items: flex-start; gap: 8px;
    border: 1.5px solid #eee; color: var(--text-dark);
  }
  .rc-opt .opt-lbl { font-weight: 700; flex-shrink: 0; }
  .rc-opt.is-correct { background: rgba(46,155,90,0.1); border-color: var(--green-light); color: var(--green); }
  .rc-opt.is-wrong   { background: rgba(192,57,43,0.1); border-color: var(--red); color: var(--red); }
  .rc-explanation {
    background: rgba(26,62,140,0.05); border-radius: 9px;
    padding: 9px 12px; font-size: 0.82rem; color: var(--text-mid);
    border-left: 3px solid var(--gold); line-height: 1.55;
  }
  .rc-expl-label { font-weight: 700; color: var(--blue); font-size: 0.78rem; margin-bottom: 3px; }

  /* ================= DIALOG ================= */
  .dialog-overlay {
    position: fixed; inset: 0; z-index: 200;
    background: rgba(0,0,0,0.55); display: flex; align-items: center; justify-content: center;
    animation: dOverIn 0.2s ease;
  }
  @keyframes dOverIn { from{opacity:0} to{opacity:1} }
  .dialog-box {
    background: #fff; border-radius: 20px; padding: 24px 22px;
    width: min(340px, 90vw); box-shadow: 0 12px 48px rgba(0,0,0,0.3);
    animation: dBoxIn 0.25s ease;
  }
  @keyframes dBoxIn { from{opacity:0;transform:scale(0.85)} to{opacity:1;transform:scale(1)} }
  .dialog-title { font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.1rem; margin-bottom: 8px; }
  .dialog-body { font-size: 0.9rem; color: var(--text-mid); margin-bottom: 20px; line-height: 1.5; }
  .dialog-actions { display: flex; gap: 10px; }
  .dialog-btn { flex: 1; padding: 11px; border-radius: 11px; border: none; font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 0.9rem; cursor: pointer; transition: all 0.15s; }
  .dialog-btn.cancel { background: #f0f0f0; color: var(--text-dark); }
  .dialog-btn.confirm { background: var(--red); color: #fff; }
  .dialog-btn:hover { transform: scale(1.03); }

  /* ================= UTILS ================= */
  sup { font-size: 0.7em; vertical-align: super; }
  sub { font-size: 0.7em; vertical-align: sub; }

  .hidden { display: none !important; }

  ::-webkit-scrollbar { width: 5px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: rgba(200,155,20,0.3); border-radius: 99px; }
</style>
</head>
<body>

<!-- ======================= SPLASH ======================= -->
<div id="splash">
  <div style="position:relative;display:flex;align-items:center;justify-content:center;">
    <!-- Benzene SVG left -->
    <svg class="benzene-left" width="70" height="80" viewBox="0 0 70 80" fill="none" xmlns="http://www.w3.org/2000/svg">
      <polygon points="35,5 65,22.5 65,57.5 35,75 5,57.5 5,22.5" stroke="rgba(200,155,20,0.6)" stroke-width="2.5" fill="none"/>
      <line x1="35" y1="15" x2="35" y2="65" stroke="rgba(200,155,20,0.3)" stroke-width="1.5" stroke-dasharray="5,5"/>
      <line x1="15" y1="27" x2="55" y2="53" stroke="rgba(200,155,20,0.3)" stroke-width="1.5" stroke-dasharray="5,5"/>
      <line x1="55" y1="27" x2="15" y2="53" stroke="rgba(200,155,20,0.3)" stroke-width="1.5" stroke-dasharray="5,5"/>
    </svg>

    <div class="splash-atom">
      <div class="atom-nucleus"></div>
      <div class="orbit orbit-1"><div class="electron"></div></div>
      <div class="orbit orbit-2"><div class="electron"></div></div>
      <div class="orbit orbit-3"><div class="electron"></div></div>
    </div>

    <!-- Benzene SVG right -->
    <svg class="benzene-right" width="70" height="80" viewBox="0 0 70 80" fill="none" xmlns="http://www.w3.org/2000/svg">
      <polygon points="35,5 65,22.5 65,57.5 35,75 5,57.5 5,22.5" stroke="rgba(200,155,20,0.6)" stroke-width="2.5" fill="none"/>
      <line x1="35" y1="15" x2="35" y2="65" stroke="rgba(200,155,20,0.3)" stroke-width="1.5" stroke-dasharray="5,5"/>
      <line x1="15" y1="27" x2="55" y2="53" stroke="rgba(200,155,20,0.3)" stroke-width="1.5" stroke-dasharray="5,5"/>
      <line x1="55" y1="27" x2="15" y2="53" stroke="rgba(200,155,20,0.3)" stroke-width="1.5" stroke-dasharray="5,5"/>
    </svg>
  </div>

  <div class="splash-title">
    SCIENCE SIMPLIFIED
    <span class="splash-institute">INSTITUTE</span>
  </div>
  <div class="splash-tagline">
    Simplify<span class="tagline-dot">.</span> Practice<span class="tagline-dot">.</span> Excel<span class="tagline-dot">.</span>
  </div>
</div>

<!-- ======================= APP ======================= -->
<div id="app">
  <!-- HEADER -->
  <div class="header">
    <div class="header-logo">
      <div class="logo-icon">
        <svg width="22" height="22" viewBox="0 0 22 22" fill="none">
          <circle cx="11" cy="11" r="4" fill="#C89B14"/>
          <ellipse cx="11" cy="11" rx="10" ry="4" stroke="#C89B14" stroke-width="1.5" fill="none"/>
          <ellipse cx="11" cy="11" rx="10" ry="4" stroke="#C89B14" stroke-width="1.5" fill="none" transform="rotate(60 11 11)"/>
          <ellipse cx="11" cy="11" rx="10" ry="4" stroke="#C89B14" stroke-width="1.5" fill="none" transform="rotate(120 11 11)"/>
        </svg>
      </div>
      <div class="logo-text">Science Simplified<span>Institute</span></div>
    </div>
    <div class="header-greeting" id="greeting">Good Morning, Explorer! üëã</div>
  </div>

  <!-- HOME SCREEN -->
  <div class="screen active" id="screen-home">
    <div class="home-hero">
      <h1>What do you want to<br>practice today?</h1>
      <p>NEET PYQs ¬∑ NCERT 11th & 12th ¬∑ Chapter-wise</p>
    </div>
    <div class="subject-grid">
      <div class="subject-card card-physics" onclick="openSubject('physics')">
        <div class="card-icon">‚öõÔ∏è</div>
        <div class="card-name poppins">Physics</div>
        <div class="card-meta">30 chapters ¬∑ 850+ questions</div>
      </div>
      <div class="subject-card card-biology" onclick="openSubject('biology')">
        <div class="card-icon">üß¨</div>
        <div class="card-name poppins">Biology</div>
        <div class="card-meta">38 chapters ¬∑ 1200+ questions</div>
      </div>
      <div class="subject-card card-chemistry" onclick="openSubject('chemistry')">
        <div class="card-icon">üß™</div>
        <div class="card-name poppins">Chemistry</div>
        <div class="card-meta">34 chapters ¬∑ 950+ questions</div>
      </div>
    </div>
    <div style="padding:0 16px 24px; text-align:center; color: var(--text-mid); font-size:0.8rem; opacity:0.7;">
      NEET marking scheme: +4 correct ¬∑ ‚àí1 wrong
    </div>
  </div>

  <!-- TOPIC SELECTION SCREEN -->
  <div class="screen" id="screen-topics">
    <div class="topic-header">
      <button class="back-btn" onclick="goHome()">‚Üê Back</button>
      <div class="topic-header-title" id="topic-subject-name">Physics</div>
      <span id="topic-subject-icon" style="font-size:1.5rem;">‚öõÔ∏è</span>
    </div>
    <div class="tab-bar">
      <button class="tab-btn active" id="tab-11" onclick="switchTab(11)">Class 11</button>
      <button class="tab-btn" id="tab-12" onclick="switchTab(12)">Class 12</button>
    </div>
    <div class="chapter-list" id="chapter-list"></div>
  </div>

  <!-- QUIZ SCREEN -->
  <div class="screen quiz-screen" id="screen-quiz">
    <div class="quiz-topbar">
      <button class="back-btn" onclick="exitQuiz()" style="background:rgba(255,255,255,0.1);">‚úï Exit</button>
      <div class="quiz-chapter-name" id="quiz-chapter-name">Chapter Name</div>
      <div class="score-pill" id="score-pill">Score: 0</div>
    </div>
    <div class="quiz-progress-wrap">
      <div class="quiz-progress-bar"><div class="quiz-progress-fill" id="quiz-progress" style="width:0%"></div></div>
      <div class="quiz-counter" id="quiz-counter">Q 1 / 10</div>
    </div>
    <div class="quiz-content" id="quiz-content"></div>
  </div>

  <!-- RESULTS SCREEN -->
  <div class="screen results-screen" id="screen-results">
    <div class="quiz-topbar" style="background:#16192E;">
      <div style="flex:1;text-align:center;font-family:'Poppins',sans-serif;font-weight:700;color:#fff;font-size:1rem;">Quiz Complete! üéâ</div>
    </div>
    <div class="results-content">
      <div class="score-reveal-ring">
        <svg class="score-ring-svg" viewBox="0 0 176 176" fill="none">
          <circle cx="88" cy="88" r="80" stroke="rgba(200,155,20,0.15)" stroke-width="8"/>
          <circle cx="88" cy="88" r="80" stroke="url(#ringGrad)" stroke-width="8"
            stroke-dasharray="502" id="score-ring-arc" stroke-dashoffset="502"
            stroke-linecap="round" transform="rotate(-90 88 88)" style="transition:stroke-dashoffset 1.2s ease"/>
          <defs>
            <linearGradient id="ringGrad" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#C89B14"/>
              <stop offset="100%" stop-color="#FFD700"/>
            </linearGradient>
          </defs>
        </svg>
        <div class="score-big" id="result-score-display">0</div>
        <div class="score-label-s">NEET Score</div>
      </div>
      <div class="perf-badge" id="perf-badge">üèÜ Excellent!</div>
      <div class="stats-grid">
        <div class="stat-box green"><div class="stat-val" id="r-correct">0</div><div class="stat-lbl">‚úÖ Correct</div></div>
        <div class="stat-box red"><div class="stat-val" id="r-wrong">0</div><div class="stat-lbl">‚ùå Wrong</div></div>
        <div class="stat-box"><div class="stat-val" id="r-skip">0</div><div class="stat-lbl">‚è≠Ô∏è Skipped</div></div>
        <div class="stat-box gold"><div class="stat-val" id="r-total">0</div><div class="stat-lbl">üìã Total</div></div>
      </div>
      <div class="neet-score-box">
        <div class="neet-label">NEET Score (+4/‚àí1)</div>
        <div class="neet-val" id="r-neet">0</div>
        <div class="neet-max" id="r-max-neet">/ 0 maximum</div>
      </div>
      <div class="result-btns">
        <button class="result-btn primary" onclick="retryChapter()">üîÑ Retry Chapter</button>
        <button class="result-btn secondary" onclick="reviewAnswers()">üìñ Review Answers</button>
        <button class="result-btn secondary" onclick="goTopics()">üìö Choose Another Chapter</button>
      </div>
    </div>
  </div>

  <!-- REVIEW SCREEN -->
  <div class="screen" id="screen-review">
    <div class="review-header">
      <button class="back-btn" onclick="backToResults()">‚Üê Back</button>
      <div style="flex:1;text-align:center;font-family:'Poppins',sans-serif;font-weight:700;font-size:1rem;">Answer Review</div>
    </div>
    <div class="review-list" id="review-list"></div>
  </div>
</div>

<!-- DIALOG -->
<div class="dialog-overlay hidden" id="dialog">
  <div class="dialog-box">
    <div class="dialog-title">Exit Quiz?</div>
    <div class="dialog-body">Your progress will be lost. Are you sure you want to exit?</div>
    <div class="dialog-actions">
      <button class="dialog-btn cancel" onclick="closeDialog()">Cancel</button>
      <button class="dialog-btn confirm" onclick="confirmExit()">Exit</button>
    </div>
  </div>
</div>

<script>
// ===================== DATA =====================
const DATA = {
  physics: {
    icon: '‚öõÔ∏è',
    colorClass: 'card-physics',
    chapters: {
      11: [
        { name: 'Physical World and Measurement', qs: 18, done: 0 },
        { name: 'Kinematics', qs: 45, done: 0 },
        { name: 'Laws of Motion', qs: 38, done: 0 },
        { name: 'Work, Energy and Power', qs: 42, done: 0 },
        { name: 'Motion of System of Particles', qs: 28, done: 0 },
        { name: 'Gravitation', qs: 35, done: 0 },
        { name: 'Properties of Bulk Matter', qs: 30, done: 0 },
        { name: 'Thermodynamics', qs: 40, done: 0 },
        { name: 'Behaviour of Perfect Gas', qs: 25, done: 0 },
        { name: 'Oscillations and Waves', qs: 48, done: 0 },
      ],
      12: [
        { name: 'Electrostatics', qs: 55, done: 0 },
        { name: 'Current Electricity', qs: 50, done: 0 },
        { name: 'Magnetic Effects of Current', qs: 45, done: 0 },
        { name: 'Magnetism and Matter', qs: 30, done: 0 },
        { name: 'Electromagnetic Induction', qs: 38, done: 0 },
        { name: 'Alternating Current', qs: 35, done: 0 },
        { name: 'Electromagnetic Waves', qs: 22, done: 0 },
        { name: 'Ray Optics', qs: 52, done: 0 },
        { name: 'Wave Optics', qs: 32, done: 0 },
        { name: 'Dual Nature of Matter', qs: 28, done: 0 },
        { name: 'Atoms and Nuclei', qs: 40, done: 0 },
        { name: 'Electronic Devices', qs: 35, done: 0 },
      ]
    }
  },
  biology: {
    icon: 'üß¨',
    colorClass: 'card-biology',
    chapters: {
      11: [
        { name: 'The Living World', qs: 22, done: 0 },
        { name: 'Biological Classification', qs: 40, done: 0 },
        { name: 'Plant Kingdom', qs: 35, done: 0 },
        { name: 'Animal Kingdom', qs: 45, done: 0 },
        { name: 'Morphology of Flowering Plants', qs: 38, done: 0 },
        { name: 'Anatomy of Flowering Plants', qs: 30, done: 0 },
        { name: 'Structural Organisation in Animals', qs: 28, done: 0 },
        { name: 'Cell: The Unit of Life', qs: 42, done: 0 },
        { name: 'Biomolecules', qs: 48, done: 0 },
        { name: 'Cell Cycle and Cell Division', qs: 35, done: 0 },
        { name: 'Transport in Plants', qs: 25, done: 0 },
        { name: 'Mineral Nutrition', qs: 28, done: 0 },
        { name: 'Photosynthesis in Higher Plants', qs: 50, done: 0 },
        { name: 'Respiration in Plants', qs: 35, done: 0 },
        { name: 'Plant Growth and Development', qs: 30, done: 0 },
        { name: 'Digestion and Absorption', qs: 38, done: 0 },
        { name: 'Breathing and Exchange of Gases', qs: 32, done: 0 },
        { name: 'Body Fluids and Circulation', qs: 40, done: 0 },
        { name: 'Excretory Products and Elimination', qs: 38, done: 0 },
        { name: 'Locomotion and Movement', qs: 35, done: 0 },
        { name: 'Neural Control and Coordination', qs: 45, done: 0 },
        { name: 'Chemical Coordination', qs: 40, done: 0 },
      ],
      12: [
        { name: 'Reproduction in Organisms', qs: 25, done: 0 },
        { name: 'Sexual Reproduction in Flowering Plants', qs: 45, done: 0 },
        { name: 'Human Reproduction', qs: 40, done: 0 },
        { name: 'Reproductive Health', qs: 28, done: 0 },
        { name: 'Principles of Inheritance', qs: 55, done: 0 },
        { name: 'Molecular Basis of Inheritance', qs: 60, done: 0 },
        { name: 'Evolution', qs: 42, done: 0 },
        { name: 'Human Health and Disease', qs: 50, done: 0 },
        { name: 'Strategies for Enhancement in Food Production', qs: 30, done: 0 },
        { name: 'Microbes in Human Welfare', qs: 35, done: 0 },
        { name: 'Biotechnology: Principles and Processes', qs: 45, done: 0 },
        { name: 'Biotechnology and its Applications', qs: 40, done: 0 },
        { name: 'Organisms and Populations', qs: 35, done: 0 },
        { name: 'Ecosystem', qs: 38, done: 0 },
        { name: 'Biodiversity and Conservation', qs: 30, done: 0 },
        { name: 'Environmental Issues', qs: 25, done: 0 },
      ]
    }
  },
  chemistry: {
    icon: 'üß™',
    colorClass: 'card-chemistry',
    chapters: {
      11: [
        { name: 'Some Basic Concepts of Chemistry', qs: 35, done: 0 },
        { name: 'Structure of Atom', qs: 42, done: 0 },
        { name: 'Classification of Elements', qs: 38, done: 0 },
        { name: 'Chemical Bonding and Molecular Structure', qs: 55, done: 0 },
        { name: 'States of Matter', qs: 30, done: 0 },
        { name: 'Thermodynamics', qs: 40, done: 0 },
        { name: 'Equilibrium', qs: 50, done: 0 },
        { name: 'Redox Reactions', qs: 28, done: 0 },
        { name: 'Hydrogen', qs: 20, done: 0 },
        { name: 's-Block Elements', qs: 32, done: 0 },
        { name: 'p-Block Elements (Group 13 & 14)', qs: 38, done: 0 },
        { name: 'Organic Chemistry ‚Äì Basic Principles', qs: 45, done: 0 },
        { name: 'Hydrocarbons', qs: 42, done: 0 },
        { name: 'Environmental Chemistry', qs: 18, done: 0 },
      ],
      12: [
        { name: 'The Solid State', qs: 35, done: 0 },
        { name: 'Solutions', qs: 40, done: 0 },
        { name: 'Electrochemistry', qs: 45, done: 0 },
        { name: 'Chemical Kinetics', qs: 38, done: 0 },
        { name: 'Surface Chemistry', qs: 28, done: 0 },
        { name: 'd and f Block Elements', qs: 42, done: 0 },
        { name: 'Coordination Compounds', qs: 50, done: 0 },
        { name: 'Haloalkanes and Haloarenes', qs: 38, done: 0 },
        { name: 'Alcohols, Phenols and Ethers', qs: 42, done: 0 },
        { name: 'Aldehydes, Ketones and Carboxylic Acids', qs: 50, done: 0 },
        { name: 'Amines', qs: 35, done: 0 },
        { name: 'Biomolecules', qs: 30, done: 0 },
        { name: 'Polymers', qs: 25, done: 0 },
        { name: 'Chemistry in Everyday Life', qs: 22, done: 0 },
      ]
    }
  }
};

// ===================== SAMPLE QUESTIONS =====================
const SAMPLE_QUESTIONS = {
  physics: [
    {
      q: "A body is thrown vertically upward with velocity u. The ratio of the time of ascent to the time of descent is:",
      opts: ["1 : 1", "1 : 2", "2 : 1", "Depends on u"],
      ans: 0,
      expl: "In the absence of air resistance, the time of ascent equals the time of descent due to the symmetry of projectile motion under gravity."
    },
    {
      q: "A particle moves in a circle of radius r with constant speed v. The change in velocity when the particle has gone through half a revolution is:",
      opts: ["Zero", "2v", "v/2", "œÄv"],
      ans: 1,
      expl: "When a particle completes half a revolution, its velocity reverses direction. The change in velocity = v ‚àí (‚àív) = 2v."
    },
    {
      q: "Newton's first law of motion gives the concept of:",
      opts: ["Energy", "Work", "Inertia", "Momentum"],
      ans: 2,
      expl: "Newton's first law states that a body continues in its state of rest or motion unless acted upon by an external force ‚Äî this property is called inertia."
    },
    {
      q: "The escape velocity from the surface of Earth is approximately:",
      opts: ["7.9 km/s", "11.2 km/s", "6.4 km/s", "9.8 km/s"],
      ans: 1,
      expl: "The escape velocity from Earth's surface is 11.2 km/s, calculated using v = ‚àö(2gR), where g = 9.8 m/s¬≤ and R = 6400 km."
    },
    {
      q: "In a Young's double slit experiment, the slit separation is doubled. The fringe width will:",
      opts: ["Remain same", "Become half", "Become double", "Become four times"],
      ans: 1,
      expl: "Fringe width Œ≤ = ŒªD/d. If d is doubled, Œ≤ becomes half. Hence the fringe width is halved."
    },
    {
      q: "The SI unit of electric flux is:",
      opts: ["N/C", "N¬∑m¬≤/C", "C/m¬≤", "V/m"],
      ans: 1,
      expl: "Electric flux Œ¶ = E¬∑A¬∑cosŒ∏. Its SI unit is N¬∑m¬≤/C (or equivalently V¬∑m)."
    },
    {
      q: "Which of the following does NOT emit radiation?",
      opts: ["Œ± particle", "Œ≤ particle", "Œ≥ ray", "X-ray"],
      ans: 3,
      expl: "Œ± particles, Œ≤ particles, and Œ≥ rays are nuclear radiations. X-rays are electromagnetic radiation produced outside the nucleus (via electron transitions)."
    },
    {
      q: "Ohm's law is valid for:",
      opts: ["Semiconductors only", "Metallic conductors at constant temperature", "All materials", "Electrolytes only"],
      ans: 1,
      expl: "Ohm's law (V = IR) is strictly valid for metallic conductors at constant temperature, where resistance remains constant."
    },
  ],
  biology: [
    {
      q: "The process by which glucose is broken down in the absence of oxygen is called:",
      opts: ["Aerobic respiration", "Fermentation", "Photosynthesis", "Transpiration"],
      ans: 1,
      expl: "Fermentation (anaerobic respiration) is the breakdown of glucose in the absence of oxygen, producing ethanol/lactic acid + CO‚ÇÇ + small amount of ATP."
    },
    {
      q: "Which organelle is called the 'powerhouse of the cell'?",
      opts: ["Ribosome", "Lysosome", "Mitochondria", "Golgi apparatus"],
      ans: 2,
      expl: "Mitochondria are called the powerhouse of the cell because they produce ATP through the process of cellular respiration (oxidative phosphorylation)."
    },
    {
      q: "The law of segregation was proposed by:",
      opts: ["Darwin", "Lamarck", "Mendel", "Morgan"],
      ans: 2,
      expl: "Gregor Mendel proposed the Law of Segregation (First Law) stating that alleles separate during gamete formation and each gamete carries only one allele."
    },
    {
      q: "DNA replication is said to be semiconservative because:",
      opts: ["Only one strand is synthesised", "Each new DNA molecule has one old and one new strand", "Both strands are new", "DNA replicates twice"],
      ans: 1,
      expl: "In semiconservative replication (proved by Meselson-Stahl experiment), each daughter DNA molecule retains one original (parental) strand and one newly synthesised strand."
    },
    {
      q: "Which blood group is called the 'universal donor'?",
      opts: ["A", "B", "AB", "O"],
      ans: 3,
      expl: "Blood group O (negative) is the universal donor for red blood cells because it lacks A, B antigens and Rh factor, minimising rejection."
    },
    {
      q: "Photosynthesis occurs in which part of the chloroplast?",
      opts: ["Outer membrane", "Stroma and grana", "Cytosol", "Nucleus"],
      ans: 1,
      expl: "Light reactions occur in the grana (thylakoid membranes) while the Calvin cycle (dark reactions) occurs in the stroma of chloroplasts."
    },
    {
      q: "Which hormone is responsible for the 'fight or flight' response?",
      opts: ["Insulin", "Thyroxine", "Adrenaline (Epinephrine)", "Glucagon"],
      ans: 2,
      expl: "Adrenaline (epinephrine), secreted by the adrenal medulla, triggers the fight or flight response ‚Äî increasing heart rate, blood pressure, and blood glucose."
    },
    {
      q: "The functional unit of kidney is:",
      opts: ["Nephron", "Neuron", "Villus", "Glomerulus"],
      ans: 0,
      expl: "The nephron is the structural and functional unit of the kidney, responsible for filtration, reabsorption, secretion, and excretion to form urine."
    },
  ],
  chemistry: [
    {
      q: "The hybridisation of carbon in methane (CH‚ÇÑ) is:",
      opts: ["sp", "sp¬≤", "sp¬≥", "sp¬≥d"],
      ans: 2,
      expl: "In CH‚ÇÑ, carbon forms 4 sigma bonds using sp¬≥ hybridisation, giving a tetrahedral geometry with bond angle of 109.5¬∞."
    },
    {
      q: "Which of the following has the highest electronegativity?",
      opts: ["Oxygen", "Nitrogen", "Fluorine", "Chlorine"],
      ans: 2,
      expl: "Fluorine has the highest electronegativity (3.98 on Pauling scale) among all elements due to its small size and high nuclear charge."
    },
    {
      q: "The rate constant of a first-order reaction has units of:",
      opts: ["mol¬∑L‚Åª¬π¬∑s‚Åª¬π", "L¬∑mol‚Åª¬π¬∑s‚Åª¬π", "s‚Åª¬π", "mol¬∑L‚Åª¬π"],
      ans: 2,
      expl: "For a first-order reaction, rate = k[A], so k = rate/[A] = (mol¬∑L‚Åª¬π¬∑s‚Åª¬π)/(mol¬∑L‚Åª¬π) = s‚Åª¬π."
    },
    {
      q: "The IUPAC name of CH‚ÇÉ-CH(OH)-CH‚ÇÉ is:",
      opts: ["1-propanol", "2-propanol", "Propanal", "Propanone"],
      ans: 1,
      expl: "The OH group is on the second carbon of propane, making it 2-propanol (propan-2-ol), also commonly known as isopropanol."
    },
    {
      q: "Which of the following is a lyophilic colloid?",
      opts: ["Gold sol", "Starch sol", "Arsenic sulphide sol", "Ferric hydroxide sol"],
      ans: 1,
      expl: "Starch sol is lyophilic (solvent-loving) as it readily disperses in water. Lyophilic colloids are more stable and reversible."
    },
    {
      q: "The oxidation number of Mn in KMnO‚ÇÑ is:",
      opts: ["+5", "+6", "+7", "+4"],
      ans: 2,
      expl: "In KMnO‚ÇÑ: K = +1, O = ‚àí2, so: +1 + x + 4(‚àí2) = 0 ‚Üí x ‚àí 7 = 0 ‚Üí x = +7. Manganese has oxidation number +7."
    },
    {
      q: "Which law states that equal volumes of all gases at the same temperature and pressure contain equal number of molecules?",
      opts: ["Boyle's Law", "Charles' Law", "Avogadro's Law", "Graham's Law"],
      ans: 2,
      expl: "Avogadro's Law states that equal volumes of gases at the same T and P contain the same number of molecules, regardless of their chemical nature."
    },
    {
      q: "The reaction of an acid with an alcohol to form ester is called:",
      opts: ["Saponification", "Esterification", "Hydrolysis", "Condensation"],
      ans: 1,
      expl: "Esterification is the reaction between a carboxylic acid and an alcohol (in the presence of H‚ÇÇSO‚ÇÑ catalyst) to form an ester and water."
    },
  ]
};

// ===================== STATE =====================
let currentSubject = null;
let currentTab = 11;
let currentQuestions = [];
let currentQIndex = 0;
let score = 0;
let correctCount = 0;
let wrongCount = 0;
let skipCount = 0;
let userAnswers = [];
let currentChapterName = '';
let quizCompleted = false;

// ===================== SPLASH =====================
function getGreeting() {
  const h = new Date().getHours();
  if (h < 12) return 'Good Morning, Explorer! üëã';
  if (h < 17) return 'Good Afternoon, Explorer! üëã';
  return 'Good Evening, Explorer! üëã';
}

window.addEventListener('load', () => {
  document.getElementById('greeting').textContent = getGreeting();
  setTimeout(() => {
    const splash = document.getElementById('splash');
    splash.classList.add('fade-out');
    setTimeout(() => {
      splash.remove();
      const app = document.getElementById('app');
      app.classList.add('visible');
    }, 400);
  }, 2900);
});

// ===================== NAVIGATION =====================
function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById('screen-' + id).classList.add('active');
}

function goHome() { showScreen('home'); }
function goTopics() { showScreen('topics'); }
function backToResults() { showScreen('results'); }

function openSubject(subject) {
  currentSubject = subject;
  const d = DATA[subject];
  document.getElementById('topic-subject-name').textContent = subject.charAt(0).toUpperCase() + subject.slice(1);
  document.getElementById('topic-subject-icon').textContent = d.icon;
  currentTab = 11;
  renderChapterList();
  showScreen('topics');
}

function switchTab(cls) {
  currentTab = cls;
  document.getElementById('tab-11').classList.toggle('active', cls === 11);
  document.getElementById('tab-12').classList.toggle('active', cls === 12);
  renderChapterList();
}

function renderChapterList() {
  const chapters = DATA[currentSubject].chapters[currentTab];
  const colors = { physics: '#1A3E8C', biology: '#1A6B3C', chemistry: '#7A2A0A' };
  const color = colors[currentSubject];
  const list = document.getElementById('chapter-list');
  list.innerHTML = chapters.map((ch, i) => {
    const pct = Math.round((ch.done / ch.qs) * 100);
    return `
      <div class="chapter-card" style="border-left-color:${color}">
        <div class="chapter-num" style="background:linear-gradient(135deg,${color}dd,${color}99)">${currentTab === 11 ? i+1 : i+1}</div>
        <div class="chapter-info">
          <div class="chapter-name">${ch.name}</div>
          <div class="chapter-sub">${ch.qs} questions${ch.done > 0 ? ` ¬∑ ${ch.done} attempted` : ''}</div>
          <div class="progress-bar-wrap"><div class="progress-bar-fill" style="width:${pct}%"></div></div>
        </div>
        <button class="start-btn" onclick="startQuiz('${currentSubject}',${i},'${ch.name.replace(/'/g,"\\'")}')">Start</button>
      </div>`;
  }).join('');
}

// ===================== QUIZ =====================
function startQuiz(subject, chIndex, chName) {
  currentSubject = subject;
  currentChapterName = chName;
  const qs = SAMPLE_QUESTIONS[subject];
  currentQuestions = shuffleArray([...qs]).slice(0, Math.min(8, qs.length));
  currentQIndex = 0;
  score = 0;
  correctCount = 0;
  wrongCount = 0;
  skipCount = 0;
  userAnswers = new Array(currentQuestions.length).fill(null);
  quizCompleted = false;

  document.getElementById('quiz-chapter-name').textContent = chName;
  document.getElementById('score-pill').textContent = 'Score: 0';
  updateProgress();
  renderQuestion();
  showScreen('quiz');
}

function shuffleArray(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

function updateProgress() {
  const pct = (currentQIndex / currentQuestions.length) * 100;
  document.getElementById('quiz-progress').style.width = pct + '%';
  document.getElementById('quiz-counter').textContent = `Q ${currentQIndex + 1} / ${currentQuestions.length}`;
}

function renderQuestion() {
  const q = currentQuestions[currentQIndex];
  const letters = ['A', 'B', 'C', 'D'];
  updateProgress();

  document.getElementById('quiz-content').innerHTML = `
    <div class="question-card">
      <div class="q-num">QUESTION ${currentQIndex + 1}</div>
      <div class="q-text">${q.q}</div>
    </div>
    <div class="options-list" id="options-list">
      ${q.opts.map((opt, i) => `
        <button class="option-btn" id="opt-${i}" onclick="selectOption(${i})">
          <div class="option-letter">${letters[i]}</div>
          <div class="option-text">${opt}</div>
        </button>`).join('')}
    </div>
    <div id="feedback-area"></div>
  `;
}

function selectOption(selected) {
  const q = currentQuestions[currentQIndex];
  const letters = ['A', 'B', 'C', 'D'];
  userAnswers[currentQIndex] = selected;

  // Disable all
  document.querySelectorAll('.option-btn').forEach(b => b.disabled = true);

  const isCorrect = selected === q.ans;
  const selBtn = document.getElementById('opt-' + selected);
  const corrBtn = document.getElementById('opt-' + q.ans);

  if (isCorrect) {
    selBtn.classList.add('correct');
    selBtn.querySelector('.option-letter').textContent = '‚úì';
    score += 4;
    correctCount++;
    animateScorePill(true);
  } else {
    selBtn.classList.add('wrong');
    selBtn.querySelector('.option-letter').textContent = '‚úó';
    corrBtn.classList.add('revealed');
    corrBtn.querySelector('.option-letter').textContent = '‚úì';
    score -= 1;
    wrongCount++;
    animateScorePill(false);
  }

  document.getElementById('score-pill').textContent = `Score: ${score}`;

  const fb = document.getElementById('feedback-area');
  fb.innerHTML = `
    <div class="feedback-badge ${isCorrect ? 'correct' : 'wrong'}">
      ${isCorrect ? '‚úÖ Correct! +4 points' : `‚ùå Wrong! ‚àí1 point. Correct: (${letters[q.ans]}) ${q.opts[q.ans]}`}
    </div>
    <button class="next-btn" onclick="nextQuestion()">
      ${currentQIndex < currentQuestions.length - 1 ? 'Next Question ‚Üí' : 'üìä See Results'}
    </button>
  `;
}

function animateScorePill(correct) {
  const pill = document.getElementById('score-pill');
  pill.classList.remove('animate', 'shake');
  void pill.offsetWidth;
  pill.classList.add(correct ? 'animate' : 'shake');
}

function nextQuestion() {
  if (currentQIndex < currentQuestions.length - 1) {
    currentQIndex++;
    renderQuestion();
  } else {
    showResults();
  }
}

// ===================== RESULTS =====================
function showResults() {
  const total = currentQuestions.length;
  skipCount = userAnswers.filter(a => a === null).length;
  const neetScore = (correctCount * 4) - (wrongCount * 1);
  const maxNeet = total * 4;
  const pct = Math.round((correctCount / total) * 100);

  document.getElementById('r-correct').textContent = correctCount;
  document.getElementById('r-wrong').textContent = wrongCount;
  document.getElementById('r-skip').textContent = skipCount;
  document.getElementById('r-total').textContent = total;
  document.getElementById('r-neet').textContent = neetScore;
  document.getElementById('r-max-neet').textContent = `/ ${maxNeet} maximum`;

  // Performance badge
  const badge = document.getElementById('perf-badge');
  badge.className = 'perf-badge';
  if (pct >= 80) { badge.classList.add('perf-excellent'); badge.textContent = 'üèÜ Excellent!'; }
  else if (pct >= 50) { badge.classList.add('perf-good'); badge.textContent = 'üëç Good Job!'; }
  else { badge.classList.add('perf-practice'); badge.textContent = 'üìö Keep Practising'; }

  showScreen('results');

  // Count-up animation
  let current = 0;
  const target = neetScore;
  const el = document.getElementById('result-score-display');
  const step = Math.ceil(Math.abs(target) / 40) || 1;
  const interval = setInterval(() => {
    if (Math.abs(current - target) <= step) { current = target; clearInterval(interval); }
    else { current += (target > 0 ? step : -step); }
    el.textContent = current;
  }, 28);

  // Animate ring
  const arc = pct / 100;
  setTimeout(() => {
    document.getElementById('score-ring-arc').style.strokeDashoffset = 502 * (1 - arc);
  }, 100);
}

function retryChapter() {
  startQuiz(currentSubject, 0, currentChapterName);
}

function reviewAnswers() {
  buildReview();
  showScreen('review');
}

function buildReview() {
  const letters = ['A', 'B', 'C', 'D'];
  const list = document.getElementById('review-list');
  list.innerHTML = currentQuestions.map((q, i) => {
    const ua = userAnswers[i];
    const isCorrect = ua === q.ans;
    const isSkip = ua === null;
    const cardClass = isSkip ? 'rc-skip' : (isCorrect ? 'rc-correct' : 'rc-wrong');
    const badgeClass = isSkip ? 'skip' : (isCorrect ? 'correct' : 'wrong');
    const badgeText = isSkip ? '‚è≠ Skipped' : (isCorrect ? '‚úÖ Correct' : '‚ùå Wrong');

    const opts = q.opts.map((opt, oi) => {
      let cls = '';
      if (oi === q.ans) cls = 'is-correct';
      else if (oi === ua && !isCorrect) cls = 'is-wrong';
      return `<div class="rc-opt ${cls}">
        <span class="opt-lbl">(${letters[oi]})</span>
        <span>${opt}</span>
      </div>`;
    }).join('');

    return `<div class="review-card ${cardClass}">
      <div class="rc-header">
        <span class="rc-qnum">Q${i+1}</span>
        <span class="rc-badge ${badgeClass}">${badgeText}</span>
      </div>
      <div class="rc-question">${q.q}</div>
      <div class="rc-options">${opts}</div>
      <div class="rc-explanation">
        <div class="rc-expl-label">üìò NCERT Explanation</div>
        ${q.expl}
      </div>
    </div>`;
  }).join('');
}

// ===================== DIALOG =====================
function exitQuiz() {
  document.getElementById('dialog').classList.remove('hidden');
}
function closeDialog() {
  document.getElementById('dialog').classList.add('hidden');
}
function confirmExit() {
  closeDialog();
  goTopics();
}
</script>
</body>
</html>
